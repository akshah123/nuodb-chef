#
# The default agent properties. To use a different source of properties set
# the system property "propertiesUrl" to the URL of a properties file:
#
#   java -DpropertiesUrl=URL nuoagent.jar ...
#
# The default values for each property are shown in this file. All addresses
# can optionally include a port number using the syntax host:port.
#
# Note that all of these properties are optional, except for the domain
# password. A default value is assigned to this. Domain administrators should
# pick a new password to secure their domains.
#

# A flag specifying whether this agent should be run as a connection broker
broker = <%= node[:nuodb]['is_broker'] %>

# The name used to identify the domain that this agent is a part of 
domain = <%= node[:nuodb]['domain'] %>

# The default administrative password, and the secret used by agents to
# setup and maintain the domain securely
domainPassword = <%= node[:nuodb]['domainPassword'] %>

# The port that this agent listens on for all incoming connections
port = <%= node[:nuodb]['port'] %>

# An existing peer (agent or broker) already running in the domain that this
# agent should connect to on startup to extend the running domain.
<% if !node[:nuodb]['is_broker'] -%>
peer = <%= node[:nuodb]['brokers'][0] %>
<% end -%> 

# An alternate address to use in identifying this host, which is not actually
# advertised unless the advertiseAlt property is set.
#altAddr = 

# A flag specifying whether the alternate address should be advertised instead
# of the locally observed network addresses. This is only meaningful for
# brokers, because only brokers advertise addresses to clients and admins.
#advertiseAlt = false

# The region for this host. The region of a host should not be changed after it
# has been set.
#region = 
    
# The log level for the agent log output. Valid levels are, from most to least 
# verbose: ALL, FINEST, FINER, FINE, CONFIG, INFO, WARNING, SEVERE, OFF
#log = INFO

# The location of the directory with the 'nuodb' executable, which is typically
# the same as the directory where the nuoagent.jar file is found
#binDir = .

# A range of port numbers that nuodb instances should be confined to. This is
# of the form start[,end].  Note: Specifying a start without an end indicates
# that process TCP/IP ports are assigned incrementally from the start without
# limit
# 
# Each new process (transaction engine or storage manager) that is started on a
# machine is communicated with via an assigned TCP/IP port that is specified
# via this property.  Ensure firewall rules allow access from other machines.
portRange = <%= node[:nuodb]['portRange'] %>

# A flag specifying whether this host has automation enabled and should attempt
# to access the NuoDB "nuodb_system" admin database
#enableAutomation = false

# A flag indicating that a Broker should auto-start the NuoDB "nuodb_system"
# admin database / TE
#enableAutomationBootstrap = false

# If enableAutomationBootstrap is enabled, then use this template to enforce
# the NuoDB "nuodb_system" admin database. Change to "Minimally Redundant"
#automationTemplate = Single Host

# A flag specifying whether host level statistics should be collected using
# sigar. The default is inferred from the property "enableAutomation"
#enableHostStats =

# When "enableAutomation" is set, prune metrics by age. Default is 4 hours: 4h
# Supported Units are d=day, h=hour, m=minute.
#metricsPurgeAge =

# When "enableAutomation" is set, prune events by age. Default is 7 days: 7d
#eventsPurgeAge =

# The interval (in seconds) that brokers should wait between sending out UDP
# broadcast messages for local discovery, and that agents should wait to hear
# those messages on startup. By default broadcast is turned off so peering
# is done using the 'peer' property.
# broadcast = 1

# A flag specifying whether nuodb instances can only be started through this
# agent (as opposed to directly starting a nuodb process on the system). If this
# flag is true then a "connection key" is required of all nuodb instances. A
# connection key is only available if the process was started through a request
# on the agent. This is a good best-practice flag for locking down a system.
#requireConnectKey = false

# A flag specifying the SQL connection load balancer that this broker should 
# use. The balancer determines how the broker chooses to which TE a SQL 
# connection is routed. This property has no effect on an agent.
#
# Set this property to "RegionBalancer" to enable a policy where SQL clients
# are connected to TEs in this Broker's region in a round-robin pattern. If
# no TEs are present in this broker's region then connections will be routed
# to TEs in any region in a round-robin pattern.
#balancer =

